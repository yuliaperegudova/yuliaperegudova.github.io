{"version":3,"sources":["script.js"],"names":["addListenerForMenuButton","btnToggle","elNavigation","addEventListener","classList","toggle","hideNavigation","add","addListenersForCheckboxes","arrCheckboxes","i","length","evt","key","preventDefault","changeCheckbox","querySelector","checkbox","input","indicator","getAttribute","setAttribute","removeAttribute","remove","openModalWindow","arrButton","elModalWindow","elOverlay","elFirstItem","btnSubmit","focus","document","contains","click","makeRadioButtonsAccessible","querySelectorAll","arrRadioButtons","classSelected","classIndicator","isModal","firstArrow","secondArrow","changeCurrentRadioButton","setFocusOnNextOrPreviousItem","j","elRadioButton","elRadioInput","elNext","initializeInteractiveMap","elMap","elInteractiveMap","ymaps","ready","myMap","Map","center","zoom","controls","searchControlProvider","myPlacemark","templateLayoutFactory","createClass","Placemark","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","window","arrButtonsOrder","getElementsByClassName","elAddItemForm","getElementById"],"mappings":"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","file":"script.min.js","sourcesContent":["window.addEventListener(\"DOMContentLoaded\", function () {\n  let arrButtonsOrder = document.getElementsByClassName(\"js-btn-order\");\n  let elAddItemForm = document.getElementById(\"add-item\");\n  let elFirstItem;\n  if (elAddItemForm)\n    elFirstItem = elAddItemForm.querySelector(\".modal__radio--selected\");\n  let elOverlay = document.querySelector(\".overlay\");\n  let btnSubmit = document.querySelector(\".js-submit\");\n\n  if (arrButtonsOrder && elAddItemForm && elFirstItem && elOverlay && btnSubmit)\n    openModalWindow(arrButtonsOrder, elAddItemForm, elOverlay, elFirstItem, btnSubmit);\n\n  let arrRadioButtons = document.querySelectorAll(\".form-type__radio\");\n  if (arrRadioButtons)\n    makeRadioButtonsAccessible(arrRadioButtons, \"form-type__radio-indicator--selected\", \".form-type__radio-indicator\", false);\n\n  let elMap = document.querySelector(\".contacts__map-image-wrap\");\n  let elInteractiveMap = document.querySelector(\".contacts__map\");\n  if (elMap && elInteractiveMap)\n    initializeInteractiveMap(elMap, elInteractiveMap);\n\n  let arrCheckboxes = document.querySelectorAll(\".form-color__checkbox\");\n  if (arrCheckboxes)\n    addListenersForCheckboxes(arrCheckboxes);\n\n  let btnToggle = document.querySelector(\".js-toggle-btn\");\n  let elNavigation = document.querySelector(\".js-nav\");\n  hideNavigation(btnToggle, elNavigation);\n  addListenerForMenuButton(btnToggle, elNavigation);\n});\n\nfunction addListenerForMenuButton(btnToggle, elNavigation) {\n  btnToggle.addEventListener(\"click\", function () {\n    btnToggle.classList.toggle(\"header__toggle--close\");\n    elNavigation.classList.toggle(\"main-nav--hidden\");\n  });\n}\n\nfunction hideNavigation(btnToggle, elNavigation) {\n  btnToggle.classList.add(\"header__toggle--show\");\n  elNavigation.classList.add(\"main-nav--hidden\");\n}\n\nfunction addListenersForCheckboxes(arrCheckboxes) {\n  for (let i = 0; i < arrCheckboxes.length; i++) {\n    arrCheckboxes[i].addEventListener(\"keydown\", function (evt) {\n      if (evt.key === \" \") {\n        evt.preventDefault();\n        changeCheckbox(arrCheckboxes[i], arrCheckboxes[i].querySelector(\"input\"), arrCheckboxes[i].querySelector(\".form-color__checkbox-indicator\"));\n      }\n    });\n    arrCheckboxes[i].addEventListener(\"click\", function () {\n      changeCheckbox(arrCheckboxes[i], arrCheckboxes[i].querySelector(\"input\"), arrCheckboxes[i].querySelector(\".form-color__checkbox-indicator\"));\n    });\n  }\n}\n\nfunction changeCheckbox(checkbox, input, indicator) {\n  switch (checkbox.getAttribute(\"aria-checked\")) {\n    case \"true\":\n      checkbox.setAttribute(\"aria-checked\", \"false\");\n      input.removeAttribute(\"checked\");\n      indicator.classList.remove(\"form-color__checkbox-indicator--selected\");\n      break;\n    case \"false\":\n      checkbox.setAttribute(\"aria-checked\", \"true\");\n      input.setAttribute(\"checked\", \"checked\");\n      indicator.classList.add(\"form-color__checkbox-indicator--selected\");\n      break;\n  }\n}\n\nfunction openModalWindow(arrButton, elModalWindow, elOverlay, elFirstItem, btnSubmit) {\n  for (let i = 0; i < arrButton.length; i++) {\n    arrButton[i].addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      elModalWindow.classList.add(\"modal--show\");\n      elOverlay.classList.add(\"overlay--show\");\n      elFirstItem.focus();\n    });\n  }\n\n  elOverlay.addEventListener(\"click\", function () {\n    elModalWindow.classList.remove(\"modal--show\");\n    elOverlay.classList.remove(\"overlay--show\");\n  });\n\n  document.addEventListener(\"keydown\", function (evt) {\n    if (evt.key === \"Escape\") {\n      if (elModalWindow.classList.contains(\"modal--show\")) {\n        elModalWindow.classList.remove(\"modal--show\");\n        elOverlay.classList.remove(\"overlay--show\");\n      }\n    }\n  });\n\n  document.addEventListener(\"keydown\", function (evt) {\n    if (evt.key === \"Enter\") {\n      btnSubmit.click();\n    }\n  });\n\n  let arrSizes = elModalWindow.querySelectorAll(\".modal__radio\");\n  makeRadioButtonsAccessible(arrSizes, \"modal__radio--selected\", \".modal__radio-indicator\",  true)\n}\n\nfunction makeRadioButtonsAccessible(arrRadioButtons, classSelected, classIndicator, isModal) {\n  for (let i = 0; i < arrRadioButtons.length; i++) {\n    arrRadioButtons[i].addEventListener(\"keydown\", function (evt) {\n      let firstArrow, secondArrow;\n\n      if (isModal) {\n        firstArrow = \"ArrowRight\";\n        secondArrow = \"ArrowLeft\";\n      } else {\n        firstArrow = \"ArrowDown\";\n        secondArrow = \"ArrowUp\";\n      }\n      if (evt.key === firstArrow) {\n        evt.preventDefault();\n        if (i !== arrRadioButtons.length - 1) {\n          changeCurrentRadioButton(arrRadioButtons[i], arrRadioButtons[i].querySelector(\"input\"), classSelected, classIndicator, isModal);\n          setFocusOnNextOrPreviousItem(arrRadioButtons[i + 1], arrRadioButtons[i + 1].querySelector(\"input\"), classSelected, classIndicator, isModal);\n        }\n      }\n      if (evt.key === secondArrow) {\n        evt.preventDefault();\n        if (i !== 0) {\n          changeCurrentRadioButton(arrRadioButtons[i], arrRadioButtons[i].querySelector(\"input\"), classSelected, classIndicator, isModal);\n          setFocusOnNextOrPreviousItem(arrRadioButtons[i - 1], arrRadioButtons[i - 1].querySelector(\"input\"), classSelected, classIndicator, isModal);\n        }\n      }\n    });\n\n    arrRadioButtons[i].addEventListener(\"click\", function () {\n      for (let j = 0; j < arrRadioButtons.length; j++) {\n        arrRadioButtons[j].setAttribute(\"tabindex\", \"-1\");\n        arrRadioButtons[j].setAttribute(\"aria-checked\", \"false\");\n        if(isModal)\n          arrRadioButtons[j].classList.remove(classSelected);\n        else\n          arrRadioButtons[j].querySelector(classIndicator).classList.remove(classSelected);\n        arrRadioButtons[j].querySelector(\"input\").removeAttribute(\"checked\");\n      }\n      arrRadioButtons[i].setAttribute(\"tabindex\", \"0\");\n      arrRadioButtons[i].setAttribute(\"aria-checked\", \"true\");\n      if(isModal)\n        arrRadioButtons[i].classList.add(classSelected);\n      else\n        arrRadioButtons[i].querySelector(classIndicator).classList.add(classSelected);\n      arrRadioButtons[i].querySelector(\"input\").setAttribute(\"checked\", \"checked\");\n    });\n  }\n}\n\nfunction changeCurrentRadioButton(elRadioButton, elRadioInput, classSelected, classIndicator, isModal) {\n  elRadioButton.setAttribute(\"tabindex\", \"-1\");\n  elRadioButton.setAttribute(\"aria-checked\", \"false\");\n  if(isModal)\n    elRadioButton.classList.remove(classSelected);\n  else\n    elRadioButton.querySelector(classIndicator).classList.remove(classSelected);\n  elRadioInput.removeAttribute(\"checked\");\n}\n\nfunction setFocusOnNextOrPreviousItem(elNext, elRadioInput, classSelected, classIndicator, isModal) {\n  elNext.setAttribute(\"tabindex\", \"0\");\n  elNext.setAttribute(\"aria-checked\", \"true\");\n  elNext.focus();\n  if(isModal)\n    elNext.classList.add(classSelected);\n  else\n    elNext.querySelector(classIndicator).classList.add(classSelected);\n  elRadioInput.setAttribute(\"checked\", \"checked\");\n}\n\nfunction initializeInteractiveMap(elMap, elInteractiveMap) {\n  ymaps.ready(init);\n\n  function init() {\n    elMap.classList.toggle(\"contacts__map-image-wrap--hide\");\n    elInteractiveMap.classList.toggle(\"contacts__map--show\");\n\n    let myMap = new ymaps.Map(\"map\", {\n        center: [59.938900, 30.323100],\n        zoom: 17,\n        controls: []\n      }, {\n        searchControlProvider: \"yandex#search\"\n      }),\n\n      MyIconContentLayout = new ymaps.templateLayoutFactory.createClass(\n        \"<div style='color: #FFFFFF; font-weight: bold;'>$[properties.iconContent]</div>\"\n      ),\n\n      myPlacemark = new ymaps.Placemark([59.938631, 30.323055], {\n        hintContent: \"\",\n        balloonContent: \"\"\n      }, {\n        iconLayout: \"default#image\",\n        iconImageHref: \"img/map-pin.svg\",\n        iconImageSize: [66, 100],\n        iconImageOffset: [-20, -140]\n      });\n\n    myMap.geoObjects.add(myPlacemark);\n  }\n}\n"]}