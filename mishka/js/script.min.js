function addListenerForMenuButton(e,t){e.addEventListener("click",function(){e.classList.toggle("header__toggle--close"),t.classList.toggle("main-nav--hidden")})}function hideNavigation(e,t){e.classList.add("header__toggle--show"),t.classList.add("main-nav--hidden")}function addListenersForCheckboxes(e){for(let t=0;t<e.length;t++)e[t].addEventListener("keydown",function(o){" "===o.key&&(o.preventDefault(),changeCheckbox(e[t],e[t].querySelector("input"),e[t].querySelector(".form-color__checkbox-indicator")))}),e[t].addEventListener("click",function(){changeCheckbox(e[t],e[t].querySelector("input"),e[t].querySelector(".form-color__checkbox-indicator"))})}function changeCheckbox(e,t,o){switch(e.getAttribute("aria-checked")){case"true":e.setAttribute("aria-checked","false"),t.removeAttribute("checked"),o.classList.remove("form-color__checkbox-indicator--selected");break;case"false":e.setAttribute("aria-checked","true"),t.setAttribute("checked","checked"),o.classList.add("form-color__checkbox-indicator--selected")}}function openModalWindow(e,t,o,c,r){for(let r=0;r<e.length;r++)e[r].addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal--show"),o.classList.add("overlay--show"),c.focus()});o.addEventListener("click",function(){t.classList.remove("modal--show"),o.classList.remove("overlay--show")}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("modal--show")&&(t.classList.remove("modal--show"),o.classList.remove("overlay--show"))}),document.addEventListener("keydown",function(e){"Enter"===e.key&&r.click()}),makeRadioButtonsAccessible(t.querySelectorAll(".modal__radio"),"modal__radio--selected",".modal__radio-indicator",!0)}function makeRadioButtonsAccessible(e,t,o,c){for(let r=0;r<e.length;r++)e[r].addEventListener("keydown",function(n){let a,i;c?(a="ArrowRight",i="ArrowLeft"):(a="ArrowDown",i="ArrowUp"),n.key===a&&(n.preventDefault(),r!==e.length-1&&(changeCurrentRadioButton(e[r],e[r].querySelector("input"),t,o,c),setFocusOnNextOrPreviousItem(e[r+1],e[r+1].querySelector("input"),t,o,c))),n.key===i&&(n.preventDefault(),0!==r&&(changeCurrentRadioButton(e[r],e[r].querySelector("input"),t,o,c),setFocusOnNextOrPreviousItem(e[r-1],e[r-1].querySelector("input"),t,o,c)))}),e[r].addEventListener("click",function(){for(let r=0;r<e.length;r++)e[r].setAttribute("tabindex","-1"),e[r].setAttribute("aria-checked","false"),c?e[r].classList.remove(t):e[r].querySelector(o).classList.remove(t),e[r].querySelector("input").removeAttribute("checked");e[r].setAttribute("tabindex","0"),e[r].setAttribute("aria-checked","true"),c?e[r].classList.add(t):e[r].querySelector(o).classList.add(t),e[r].querySelector("input").setAttribute("checked","checked")})}function changeCurrentRadioButton(e,t,o,c,r){e.setAttribute("tabindex","-1"),e.setAttribute("aria-checked","false"),r?e.classList.remove(o):e.querySelector(c).classList.remove(o),t.removeAttribute("checked")}function setFocusOnNextOrPreviousItem(e,t,o,c,r){e.setAttribute("tabindex","0"),e.setAttribute("aria-checked","true"),e.focus(),r?e.classList.add(o):e.querySelector(c).classList.add(o),t.setAttribute("checked","checked")}function initializeInteractiveMap(e,t){ymaps.ready(function(){e.classList.toggle("contacts__map-image-wrap--hide"),t.classList.toggle("contacts__map--show");let o=new ymaps.Map("map",{center:[59.9389,30.3231],zoom:17,controls:[]},{searchControlProvider:"yandex#search"}),c=(new ymaps.templateLayoutFactory.createClass("<div style='color: #FFFFFF; font-weight: bold;'>$[properties.iconContent]</div>"),new ymaps.Placemark([59.938631,30.323055],{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"img/map-pin.svg",iconImageSize:[66,100],iconImageOffset:[-20,-140]}));o.geoObjects.add(c)})}window.addEventListener("DOMContentLoaded",function(){let e,t=document.getElementsByClassName("js-btn-order"),o=document.getElementById("add-item");o&&(e=o.querySelector(".modal__radio--selected"));let c=document.querySelector(".overlay"),r=document.querySelector(".js-submit");t&&o&&e&&c&&r&&openModalWindow(t,o,c,e,r);let n=document.querySelectorAll(".form-type__radio");n&&makeRadioButtonsAccessible(n,"form-type__radio-indicator--selected",".form-type__radio-indicator",!1);let a=document.querySelector(".contacts__map-image-wrap"),i=document.querySelector(".contacts__map");a&&i&&initializeInteractiveMap(a,i);let s=document.querySelectorAll(".form-color__checkbox");s&&addListenersForCheckboxes(s);let d=document.querySelector(".js-toggle-btn"),l=document.querySelector(".js-nav");hideNavigation(d,l),addListenerForMenuButton(d,l)});
//# sourceMappingURL=script.min.js.map
